<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trip Data Collecion</title>
  <style>
    /* Your existing CSS goes here */
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      flex-direction: column;
            
             background-image: url('trip.png');
  background-size: cover;  /* Ensure the image covers the entire screen */
  background-position: center; /* Center the image */
  background-repeat: no-repeat; /* Prevent the image from repeating */

    }

  .container {
  background-color:; /* Light sky blue background */
  border-radius: 12px; /* More rounded corners */
   box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5); /* Stronger, deeper shadow */
  padding: 30px; /* More padding for a spacious look */
  max-width: 350px; /* Slightly wider container */
  width: 90%; /* Adjusted to fit the screen better */
  text-align: center;
  transition: transform 0.3s ease-in-out; /* Smooth hover effect */
}

/* Hover effect for container */
.container:hover {
  transform: translateY(-5px); /* Slight lift effect on hover */
 box-shadow: 0 15px 60px rgba(0, 0, 0, 0.7);  /* More pronounced shadow on hover */
}

    h1 {
      color: Black;
      margin: Top 10px;
    }

    form {
      display: grid;
      gap: 15px;
    }

   label {
  display: block;
  font-size: 14px;
  color: Black;
  margin-bottom: 5px;
  text-align: center;
  font-weight: bold; /* Makes the label text bold */
}


    input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }

    button {
      background-color: Black;
      color: #fff;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #45a049;
    }

    footer {
      margin-top: auto;
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 10px;
    }

    @media only screen and (max-width: 600px) {
      .container {
        max-width: 100%;
      }

      input {
        font-size: 14px;
        padding: 8px;
      }
    }
          
              /* Toast Message Styles */
   /* Toast Message Styles */
.toast {
  visibility: hidden;
  width: 150px;
  height: 150px;
  background-color: #ffcccb; /* Light coral background */
  color: #333; /* Dark text for readability */
  text-align: center;
  border-radius: 10px; /* Rounded square shape */
  padding: 20px;
  position: fixed;
  z-index: 1;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%); /* Center the toast */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); /* Enhanced shadow effect */
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.toast.show {
  visibility: visible;
  animation: fadein 0.5s, fadeout 0.5s 2.5s;
}

@keyframes fadein {
  from {
    opacity: 0;
    transform: translate(-50%, -55%);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}

@keyframes fadeout {
  from {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
  to {
    opacity: 0;
    transform: translate(-50%, -45%);
  }
}
select {
  width: 100%;
  padding: 10px;
  font-size: 16px;
  border: 1px solid #ddd;
  border-radius: 4px;
  box-sizing: border-box;
  background-color: #fff;
  color: #555;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

select:focus {
  border-color: #4caf50;
  outline: none;
}

select option {
  padding: 10px;
  font-size: 16px;
}
/* Profile Container */
.profile-container {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
  text-align: center;
  z-index: 1000;
}

.profile-pic {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid black;
  transition: transform 0.2s;
}

.profile-pic:hover {
  transform: scale(1.1);
}

.profile-menu {
  display: none;
  position: absolute;
  top: 50px;
  right: 0;
  background-color: #f1f1f1;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
  z-index: 1;
  padding: 15px;
  width: 300px;
  text-align: center;
  max-height: 400px;
  overflow-y: auto;
}

.profile-menu img {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  margin-bottom: 15px;
}

.profile-menu p {
  margin: 10px 0;
  color: #333;
  font-size: 16px;
}

/* Responsive Styles */
@media (max-width: 768px) {
  .profile-container {
    top: 10px;
    right: 10px;
  }

  .profile-menu {
    width: 250px;
    top: 40px;
  }

  .profile-menu img {
    width: 70px;
    height: 70px;
  }
}

/* Table Styles */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
        border-radius: 5px;
            
        
}

th, td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #ddd;
}

th {
  background-color: black;
  color: white;
        
   
}

/* Responsive Table */
@media (max-width: 768px) {
  th, td {
    padding: 10px;
    font-size: 14px;
  }
}

@media (max-width: 480px) {
  th, td {
    padding: 8px;
    font-size: 12px;
  }
}

/* Button Styles */
button {
  padding: 10px 20px;
  font-size: 16px;
  margin: 10px 5px;
  border: none;
  color: #fff;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s;
}

.btn-boys {
  background-color: #007bff;
}

.btn-girls {
  background-color: #e83e8c;
}

button:hover {
  opacity: 0.9;
}

/* Responsive Buttons */
@media (max-width: 768px) {
  button {
    width: 100%;
    margin: 5px 0;
    font-size: 14px;
  }
}

          a {
  text-decoration: none; /* Removes the underline */
  color: inherit; /* Inherits the color of its parent */
}

a:hover, a:focus {
  color: inherit; /* Ensures hover/focus states match parent color */
  text-decoration: none; /* Ensures no underline appears on hover/focus */
}

          .containerr {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background: #ffffff;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
  </style>
</head>
<body ><br><br>
<div class="profile-container d-flex align-items-center">
            <img src="pic.jpg" alt="Profile" class="profile-pic" onclick="toggleProfileMenu()">  
            <p class="profile-text mb-0">Profile</p>
            <div class="profile-menu" id="profileMenu" style="display: none;">
                    <img src="pic.jpg" alt="Profile" class="profile-pic-large">
                 
                    <p id="userName"><strong>Login:</strong><br></p>
                  
                    <button  class="logout-btn btn btn-danger btn-block" style="background-color: black; border-color: #320ca0;"><a href="login.php">Log in</a></button>
     <h3>Registered Persons</h3>
    <div class="containerr">
        <button class="btn-boys" onclick="fetchData('Boys')">View Boys</button>
        <button class="btn-girls" onclick="fetchData('Girls')">View Girls</button>
        <div id="tableContainer"></div>
    </div>

                </div>
            </div>

       
    
  <div class="container">
          <h1>Trip Data Collection </h1>
    <form action="process.php" method="post">
         <label for="gender">Gender:</label>
  <select id="gender" name="gender" required>
    <option value="Boys">Boys</option>
    <option value="Girls">Girls</option>
  </select><br />    
            
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required /><br />

      <label for="idCard">CNIC/NICOP/FormB Number:</label>
      <input
        type="text"
        id="idCard"
        name="idCard"
        maxLength="17"
        placeholder="e.g 12345-67891011-1"
        required
      /><br />

      <label for="mobile">Mobile Number:</label>
      <input
        type="text"
        id="mobile"
        name="mobile"
        maxLength="13"
        placeholder="e.g +9233000000000"
        required
      /><br />

      <input type="submit" value="Submit" />
    </form>
    <br />
    <footer>
      <p>Â© 2024 All rights reserved. Developed By Fahad</p>
    </footer>
  </div>

  <!-- Toast Container -->
  <div id="toast" class="toast"></div>

  <script>
    // Function to show toast message
    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.className = "toast show";
      setTimeout(() => {
        toast.className = toast.className.replace("show", "");
      }, 3000); // Toast message lasts for 3 seconds
    }

    // Allow only alphabets for the Name field
    document.getElementById("name").addEventListener("input", function (e) {
      const originalValue = this.value;
      this.value = this.value.replace(/[^a-zA-Z\s]/g, "");
      if (originalValue !== this.value) {
        showToast("Only alphabets are allowed in the Name field.");
      }
    });

    // Format CNIC/NICOP/FormB Number field with dashes
    document.getElementById("idCard").addEventListener("input", function (e) {
      const originalValue = this.value;
      let value = this.value.replace(/[^0-9]/g, ""); // Remove non-numeric characters
      if (value.length > 5 && value.length <= 12) {
        value = value.slice(0, 5) + "-" + value.slice(5);
      } else if (value.length > 12) {
        value = value.slice(0, 5) + "-" + value.slice(5, 12) + "-" + value.slice(12, 13);
      }
      this.value = value;
      if (originalValue !== this.value) {
        showToast("Only numbers are allowed in CNIC/NICOP/FormB.");
      }
    });

  document.getElementById("mobile").addEventListener("input", function (e) {
  const originalValue = this.value;
  let value = this.value.replace(/[^0-9\+]/g, ""); // Remove non-numeric characters except +

  // Ensure the input starts with +92
  if (!value.startsWith("+92")) {
    value = "+92";
    showToast("Mobile number must start with +92.");
  }

  // Disable 0 immediately after +92
  if (value.startsWith("+920")) {
    value = "+92";
    showToast("The digit '0' is not allowed Ignore 0.");
  }

  // Limit to 13 characters including +92
  if (value.length > 13) {
    value = value.slice(0, 13);
  }

  this.value = value;

  if (originalValue !== this.value && !originalValue.startsWith("+92")) {
    showToast("Only numeric values allowed after +92.");
  }
});
 </script>
    <!-- jQuery and Bootstrap JS -->

    <script>
      
    function toggleProfileMenu() {
        var menu = document.getElementById("profileMenu");
        menu.style.display = (menu.style.display === "block") ? "none" : "block";
    }

    window.onclick = function(event) {
        var menu = document.getElementById("profileMenu");
        var profilePic = document.querySelector('.profile-pic');
        
        if (!event.target.matches('.profile-pic') && !menu.contains(event.target)) {
            menu.style.display = "none";
        }

        // Handle the navbar collapsing when clicking outside of it
        var navbarCollapse = document.getElementById("navbarNav");
        if (!navbarCollapse.contains(event.target)) {
            $('.navbar-collapse').collapse('hide');
        }
    }

    </script>

     <script>
        function fetchData(gender) {
            fetch(`fetch_data.php?gender=${gender}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('tableContainer').innerHTML = data;
                })
                .catch(error => console.error('Error:', error));
        }
             
             
             document.getElementById("gender").addEventListener("change", function () {
  const cnicLabel = document.querySelector("label[for='idCard']");
  const cnicField = document.getElementById("idCard");
  
  if (this.value === "Girls") {
    cnicLabel.style.display = "none";
    cnicField.style.display = "none";
    cnicField.required = false; // Ensure the field is not required for "Girls"
  } else {
    cnicLabel.style.display = "block";
    cnicField.style.display = "block";
    cnicField.required = true; // Make the field required for "Boys"
  }
});

    </script>   
        
</body>
</html>